<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Generator Artykułów - Web Space Station</title>
    <style>
        body { background: #0a0a0f; color: #0cf; font-family: 'Rajdhani', sans-serif; padding: 40px; }
        .container { max-width: 800px; margin: 0 auto; }
        label { display: block; margin-top: 15px; color: #f0f; font-weight: bold; }
        select, textarea, input { 
            width: 100%; padding: 10px; margin-top: 5px; 
            background: #16161e; border: 1px solid #0cf; color: #fff; 
            border-radius: 4px; box-sizing: border-box;
        }
        textarea { height: 300px; }
        .result { 
            background: #000; padding: 20px; border: 1px dashed #f0f; 
            margin-top: 20px; white-space: pre-wrap; font-family: monospace; 
            color: #0f0; font-size: 0.9rem;
        }
        button { 
            background: #0cf; border: none; padding: 15px 30px; 
            margin-top: 20px; cursor: pointer; font-weight: bold; 
            width: 100%; text-transform: uppercase;
        }
        button:hover { background: #fff; box-shadow: 0 0 15px #0cf; }
        .hint { font-size: 0.8rem; color: #888; margin-top: 5px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Generator Obiektu JS</h1>
        
        <label>Kategoria:</label>
        <select id="kat">
            <option value="tech">Technologia</option>
            <option value="nauka">Nauka (Popularno-naukowe)</option>
            <option value="meldunki">Meldunki (Newsy)</option>
        </select>

        <label>Link do zdjęcia (URL):</label>
        <input type="text" id="img_url" placeholder="https://images.unsplash.com/..." value="https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=1200">
        <div class="hint">Wklej adres obrazu z Unsplash lub innego banku zdjęć.</div>

        <label>Tekst artykułu (AI):</label>
        <textarea id="input" placeholder="Linia 1: Tytuł&#10;Linia 2: Krótki opis (lead)&#10;Reszta: Treść artykułu (każdy enter to nowy akapit)..."></textarea>
        
        <button onclick="generate()">GENERUJ KOD DO ARTYKULY.JS</button>

        <label>Gotowy kod:</label>
        <div id="output" class="result">Tutaj pojawi się kod po kliknięciu przycisku...</div>
    </div>

    <script>
        function generate() {
            const text = document.getElementById('input').value;
            const kategoria = document.getElementById('kat').value;
            const imgUrl = document.getElementById('img_url').value;
            
            // Dzielimy tekst na linie
            const lines = text.split('\n').map(l => l.trim()).filter(l => l !== "");
            
            if (lines.length < 2) {
                alert("Wprowadź przynajmniej tytuł i opis!");
                return;
            }

            const tytul = lines[0];
            const lead = lines[1];
            
            // KLUCZOWA POPRAWKA: Jedno ID dla obu pól
            const uniqueID = Date.now();
            
            // Budowanie głębokiej treści HTML
            let htmlContent = `<p class="lead">${lead}</p>\n`;
            
            if (lines.length > 2) {
                htmlContent += `        <h2>Szczegóły i Analiza</h2>\n`;
                // Każda kolejna linia staje się osobnym akapitem <p>
                for (let i = 2; i < lines.length; i++) {
                    htmlContent += `        <p>${lines[i]}</p>\n`;
                }
            }

            const code = `{
    id: ${uniqueID},
    kategoria: '${kategoria}',
    tag: 'NEWS',
    tytul: '${tytul}',
    opis: '${lead.substring(0, 150)}...',
    tresc: \`
        ${htmlContent}    \`,
    img: '${imgUrl}',
    link: 'artykul.html?id=${uniqueID}'
},`;

            document.getElementById('output').innerText = code;
        }
    </script>
</body>
</html>